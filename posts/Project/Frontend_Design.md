# Frontend Design

- [Frontend Design](#frontend-design)
  - [데이터 핸들링](#데이터-핸들링)
    - [자료형과 초기값](#자료형과-초기값)
  - [프로젝트 환경 설정 체크리스트](#프로젝트-환경-설정-체크리스트)
  - [설계 목록](#설계-목록)

## 데이터 핸들링

- 클라이언트 데이터

  - 폼 데이터
  - UI 제어 데이터
  - 필터링 데이터
  - Path 데이터
  - Query 데이터
  -

- 비동기 데이터

  - API 응답 상태 데이터
  - API 응답 데이터

- 데이터 관리 방법

  - React Hooks
  - Context API
  - Query
  - Cookie
  - Local Storage
  - Session Storage
  - Recoil
  - React Query
  - React Hook Form

위 데이터를 다루면서 내가 느낀 점은 모든 데이터는 자료형과 초기값을 가지는 편이 좋다는 것이다. 그 이유는 하나의 변수가 다양한 자료형이 될 수 있거나, 초기값이 없다면 해당 변수를 자바스크립트 내부에서 사용할 때 예상치 못한 타입 에러가 날 가능성이 높고, 해당 상황은 사용자 경험을 저하시키기 떄문이다.

특히 특정 자료형에만 존재하는 메서드를 사용할 때 에러가 많이 발생하는데, 변수에 다른 자료형 값이 들어있다던지 `null`값이 들어있다면 메서드를 가지고 있지 않기 때문에 에러가 나게 된다.

이러한 실수들을 방지하기 위해 타입스크립트가 나오게 된 배경이 아닌가 싶다. 전 프로젝트에서 타입스크립트를 사용하다가 현재 프로젝트에서 타입스크립트를 사용하지 않다보니 크게 불편함을 많이 느꼈다.

API 응답 데이터의 경우 초기값을 작성하는 케이스보다 해당 API의 로딩이 끝나고 성공하면 API 문서에서 작성한 대로 데이터가 올거라 예상하고 데이터를 뿌려주는 경우가 많다. 이 경우에는 옵셔널 체이닝(`.?`)과 nullish 연산자(`??`)를 이용해 해당 데이터가 `null`인지 체킹하고 `null`이면 초기값을 세팅해주는 방식을 사용했다. 개인적으로 이 방식을 사용해보니 모든 데이터에 저 코드를 작성하다보니 초기값을 설정하는 편이 머리가 덜 아프다겠다는 생각이 들었다. 다음 프로젝트에서는 화면에 표시될 데이터들의 초기값을 설정한 후 비동기 데이터를 받아서 업데이트해주는 방식으로 진행해야겠다.

정리하면 초기값을 설정하고 응답 데이터를 초기값의 타입과 포맷에 맞게 가공해서 업데이트하고, 데이터를 요청할 때는 요청 타입과 포맷에 맞게 가공해서 전달한다.

**결론적으로 데이터를 다룰 때 데이터의 자료형과 초기값을 꼭 잘 설정하자!**

### 자료형과 초기값

클라이언트에서 다루는 데이터의 경우 HTML 태그의 속성 값을 참조하거나 Web API 응답값을 사용하게 되는데, 대부분의 경우 `string` 형태의 자료형을 가진다. 그리고
`string` 형태가 다른 `number`, `boolean` 형태보다 메서드도 많기 때문에 값을 다양하게 조작이 가능하다. 그래서 데이터의 자료형과 초기값은 기본적으로 `string` 형태의 빈 값을 세팅한 후, 작업을 하면서 자료형이 변경되어야 할 때 수정하면서 진행하는 편이 작업이 수월하다고 생각한다. 마치 `const`로 변수를 세팅한 후 변경이 필요한 값에 대해 `let`으로 수정하는 것과 비슷하다.

서버 응답 데이터의 경우 기존에 합의하여 설계된 API 문서를 바탕으로 자료형과 초기값을 설정한다. `React Query` 라이브러리를 사용할 경우, 해당 라이브러리가 비동기 상태 관리 라이브러리이기 때문에 따로 `useState()`를 활용해 관리하기보다 `useQuery()`의 `initialData` 속성을 활용하자.

## 프로젝트 환경 설정 체크리스트

- [ ] monorepo
- [ ] rendering method
  - [ ] (CSR) React + Express
  - [ ] (SSR) Next.js
  - [ ] (SSG) Next.js
- [ ] eslint
- [ ] prettier
- [ ] tsconfig
- [ ] css framework
  - [ ] emotion
  - [ ] tailwind
- [ ] 폼 상태 관리 라이브러리
  - [ ] react-hook-form
- [ ] 전역 상태 관리 라이브러리
  - [ ] recoil
  - [ ] redux
- [ ] 비동기 데이터 관리 라이브러리
  - [ ] react-query
  - [ ] redux-saga
- [ ] 라우터 관리 라이브러리
  - [ ] react-router
- [ ] 다국어 라이브러리
  - [ ] react-intl
  - [ ] next-translate
- [ ] 필수 라이브러리
  - [ ] axios
  - [ ] lodash
  - [ ] qs
  - [ ] js-cookie
  - [ ] dayjs
  - [ ] xlxs
  - [ ] uuid
  - [ ] jwt-decode
- [ ] 차트 라이브러리
  - [ ] chartjs
- [ ] 텍스트 에디터 라이브러리
  - [ ] ...

## 설계 목록

- [ ] 페이지 및 레이아웃 설계
- [ ] 라우트 설계
- [ ] 권한에 따른 라우트 가드 설계
- [ ] 다국어 언어 데이터 구조 설계
- [ ] 컴포넌트 설계
- [ ] 로그인 상태 유지 설계
- [ ] 필터링 설계
- [ ] 클라이언트 데이터 관리 방법 설계
- [ ] 클라이언트 데이터 데이터 자료형 및 초기값 설정
- [ ] 비동기 데이터 관리 방법 설계
- [ ] 비동기 데이터 데이터 자료형 및 초기값 설정
- [ ] API 로딩/성공/에러 설계
- [ ] 배열 갯수 0개 설계
